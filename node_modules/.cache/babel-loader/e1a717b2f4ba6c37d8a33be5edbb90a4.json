{"ast":null,"code":"import _slicedToArray from \"/Users/mr.vong/Desktop/webshop-exam/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mr.vong/Desktop/webshop-exam/src/components/Home.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { increment, decrement } from '../actions/allActions';\n\nfunction Home() {\n  const counter = useSelector(state => state.counter);\n  const isLogged = useSelector(state => state.isLogged);\n  const dispatch = useDispatch();\n  const myShoppingCart = useSelector(state => state.myShoppingCart);\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        searchResults = _useState2[0],\n        setSearchResults = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        myCart = _useState4[0],\n        setMyCart = _useState4[1];\n\n  console.log(myShoppingCart);\n  useEffect(() => {\n    async function getData() {\n      let data = await fetch('/api/flowers');\n      data = await data.json();\n      setSearchResults(data);\n    }\n\n    getData();\n  }, []);\n  useEffect(() => {\n    if (myShoppingCart === 0) {\n      return;\n    }\n\n    console.log(myCart);\n    console.log('INSIDE');\n    let hello = {\n      hej: 'hej'\n    };\n\n    async function postData() {\n      const response = await fetch('/api/shopping-cart', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(hello)\n      }); // console.log(response.json());\n      // return await response.json();\n    }\n\n    postData();\n  }, [myShoppingCart]);\n\n  async function addToCart(e) {\n    let hello = {\n      hej: 'hej'\n    };\n    myCart.push(e.target.id);\n    setMyCart(myCart);\n    console.log(myCart);\n    const response = await fetch('/api/shopping-cart', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(hello)\n    });\n    console.log(response.json()); // return await response.json();\n  }\n\n  const removeFromCart = e => {\n    if (myCart.includes(e.target.id)) {\n      let flowerIndex = myCart.indexOf(e.target.id);\n      myCart.splice(flowerIndex, 1);\n      setMyCart(myCart);\n      console.log(myCart);\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"home container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Startsidan!\"), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, searchResults.map(flower => React.createElement(\"div\", {\n    className: \"col s12 m6 l4\",\n    key: flower.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card-image\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: flower.url,\n    alt: \"blomma\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"btn-floating halfway-fab waves-effect waves-dark white add\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    onClick: addToCart,\n    id: flower.id,\n    className: \"black-text material-icons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"add\")), React.createElement(\"button\", {\n    className: \"btn-floating halfway-fab waves-effect waves-dark white remove\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    onClick: removeFromCart,\n    id: flower.id,\n    className: \"black-text material-icons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"remove\"))), React.createElement(\"div\", {\n    className: \"card-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"card-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, flower.title), React.createElement(\"span\", {\n    className: \"price\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, flower.price, \" kr\")))))), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, counter), React.createElement(\"button\", {\n    onClick: () => dispatch(increment(5)),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, \"+\"), React.createElement(\"button\", {\n    onClick: () => dispatch(decrement()),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, \"-\"), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, isLogged ? 'hello' : 'bye'));\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/mr.vong/Desktop/webshop-exam/src/components/Home.js"],"names":["React","useEffect","useState","useSelector","useDispatch","increment","decrement","Home","counter","state","isLogged","dispatch","myShoppingCart","searchResults","setSearchResults","myCart","setMyCart","console","log","getData","data","fetch","json","hello","hej","postData","response","method","headers","body","JSON","stringify","addToCart","e","push","target","id","removeFromCart","includes","flowerIndex","indexOf","splice","map","flower","url","title","price"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { increment, decrement } from '../actions/allActions';\n\n\nfunction Home() {\n  const counter = useSelector(state => state.counter);\n  const isLogged = useSelector(state => state.isLogged);\n  const dispatch = useDispatch();\n  const myShoppingCart = useSelector(state => state.myShoppingCart);\n  const [searchResults, setSearchResults] = useState([]);\n  const [myCart, setMyCart] = useState([]);\n\n  console.log(myShoppingCart);\n\n  useEffect(()=> {\n\n    async function getData() {\n      let data = await fetch('/api/flowers');\n      data = await data.json();\n\n      setSearchResults(data);\n    }\n\n    getData();\n  }, [])\n\n  useEffect(() => {\n    if(myShoppingCart===0){return}\n    console.log(myCart);\n    console.log('INSIDE');\n\n    let hello = {hej: 'hej'}\n\n    async function postData() {\n      const response = await fetch('/api/shopping-cart', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(hello)\n      });\n      // console.log(response.json());\n      // return await response.json();\n    }\n    \n    postData();\n  },[myShoppingCart]);\n  \n  async function addToCart(e){\n    let hello = {hej: 'hej'};\n    myCart.push(e.target.id);\n    setMyCart(myCart);\n    console.log(myCart)\n\n    const response = await fetch('/api/shopping-cart', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(hello)\n    });\n    console.log(response.json());\n    // return await response.json();\n  }\n\n  const removeFromCart = e => {\n    if(myCart.includes(e.target.id)) {\n      let flowerIndex = myCart.indexOf(e.target.id);\n      myCart.splice(flowerIndex, 1);\n      setMyCart(myCart)\n      console.log(myCart);\n    }\n  }\n\n  return (\n    <div className=\"home container\">\n      <h1>\n        Startsidan!\n      </h1>\n\n      <div className=\"row\">\n        {searchResults.map((flower) => \n          <div className=\"col s12 m6 l4\" key={flower.id}>\n            <div className=\"card\">\n              <div className=\"card-image\">\n                <img src={flower.url} alt=\"blomma\" />\n                <button className=\"btn-floating halfway-fab waves-effect waves-dark white add\">\n                  <i onClick={addToCart} id={flower.id} className=\"black-text material-icons\">add</i>\n                </button>\n                <button className=\"btn-floating halfway-fab waves-effect waves-dark white remove\">\n                  <i onClick={removeFromCart} id={flower.id} className=\"black-text material-icons\">remove</i>\n                </button>\n              </div>\n              <div className=\"card-content\">\n                <span className=\"card-title\">{flower.title}</span>\n                <span className=\"price\">{flower.price} kr</span>\n              </div>\n            </div>\n          </div>\n        )}\n\n      </div>\n      \n      <h1>{counter}</h1>\n      <button onClick={() => dispatch(increment(5))}>+</button>\n      <button onClick={() => dispatch(decrement())}>-</button>\n      <h3>{isLogged? 'hello':'bye'}</h3>\n    </div>\n  )\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}